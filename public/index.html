<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Library Management System - Borrowing API</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <header class="header">
        <div class="header-content">
            <h1 class="library-title">ðŸ“š ALEXANDRIA LIBRARY</h1>
            <p class="library-subtitle">Borrowing Management System</p>
        </div>
    </header>

    <div class="container">
        <div class="nav-buttons">
            <button class="nav-button" onclick="showSection('catalog')">ðŸ“– View Catalog</button>
            <button class="nav-button" onclick="showSection('api-testing')">ðŸ”§ API Testing</button>
        </div>

        <!-- Catalog Section -->
        <section id="catalog-section" class="section">
            <h2 class="section-title">Library Catalog & Current Status</h2>
            
            <div class="table-section">
                <h3><span class="table-icon">ðŸ‘¥</span> Members</h3>
                <table class="data-table" id="members-table">
                    <thead>
                        <tr>
                            <th>ID</th>
                            <th>Name</th>
                            <th>Email</th>
                            <th>Current Borrows</th>
                            <th>Has Overdue</th>
                        </tr>
                    </thead>
                    <tbody id="members-tbody">
                        <tr><td colspan="5" class="empty-state">Loading members...</td></tr>
                    </tbody>
                </table>
            </div>

            <div class="table-section">
                <h3><span class="table-icon">ðŸ“š</span> Books</h3>
                <table class="data-table" id="books-table">
                    <thead>
                        <tr>
                            <th>ID</th>
                            <th>Title</th>
                            <th>ISBN</th>
                            <th>Genre</th>
                            <th>Available Copies</th>
                        </tr>
                    </thead>
                    <tbody id="books-tbody">
                        <tr><td colspan="5" class="empty-state">Loading books...</td></tr>
                    </tbody>
                </table>
            </div>

            <div class="table-section">
                <h3><span class="table-icon">ðŸ“‹</span> Active Loans</h3>
                <table class="data-table" id="loans-table">
                    <thead>
                        <tr>
                            <th>Loan ID</th>
                            <th>Member ID</th>
                            <th>Book Copy ID</th>
                            <th>Borrow Date</th>
                            <th>Due Date</th>
                            <th>Status</th>
                        </tr>
                    </thead>
                    <tbody id="loans-tbody">
                        <tr><td colspan="6" class="empty-state">Loading loans...</td></tr>
                    </tbody>
                </table>
            </div>
        </section>

        <!-- API Testing Section -->
        <section id="api-testing-section" class="section hide">
            <h2 class="section-title">API Endpoint Testing</h2>
        
        <div class="endpoint-grid">
            <!-- Health Check -->
            <div class="endpoint-card">
                <div class="endpoint-header">
                    <div class="endpoint-title">Health Check</div>
                    <span class="method-badge method-get">GET</span>
                </div>
                <div class="endpoint-url">/api/health</div>
                <button class="test-button" onclick="testEndpoint('health', '/api/health')">Test Endpoint</button>
                <div class="result-container" id="result-health" style="display: none;"></div>
            </div>
            
            <!-- Test Data -->
            <div class="endpoint-card">
                <div class="endpoint-header">
                    <div class="endpoint-title">Test Data</div>
                    <span class="method-badge method-get">GET</span>
                </div>
                <div class="endpoint-url">/api/test-data</div>
                <button class="test-button" onclick="testEndpoint('test-data', '/api/test-data')">Test Endpoint</button>
                <div class="result-container" id="result-test-data" style="display: none;"></div>
            </div>
        <!-- API Testing Section -->
        <section id="api-testing-section" class="section hide">
            <h2 class="section-title">API Endpoint Testing</h2>
            
            <div class="endpoint-grid">
                <!-- Health Check -->
                <div class="endpoint-card">
                    <div class="endpoint-header">
                        <div class="endpoint-title">Health Check</div>
                        <span class="method-badge method-get">GET</span>
                    </div>
                    <div class="endpoint-url">/api/health</div>
                    <button class="test-button" onclick="testEndpoint('health', '/api/health')">Test Endpoint</button>
                    <div class="result-container" id="result-health" style="display: none;"></div>
                </div>
                
                <!-- Get All Borrowings -->
                <div class="endpoint-card">
                    <div class="endpoint-header">
                        <div class="endpoint-title">Get All Borrowings</div>
                        <span class="method-badge method-get">GET</span>
                    </div>
                    <div class="endpoint-url">/api/borrowings</div>
                    <button class="test-button" onclick="testEndpoint('all-borrowings', '/api/borrowings')">Test Endpoint</button>
                    <div class="result-container" id="result-all-borrowings" style="display: none;"></div>
                </div>
                
                <!-- Get User Borrowings -->
                <div class="endpoint-card">
                    <div class="endpoint-header">
                        <div class="endpoint-title">Get User Borrowings</div>
                        <span class="method-badge method-get">GET</span>
                    </div>
                    <div class="endpoint-url">/api/borrowings/user/:userId</div>
                    <button class="test-button" onclick="testEndpoint('user-borrowings', '/api/borrowings/user/1')">Test Endpoint (User 1)</button>
                    <div class="result-container" id="result-user-borrowings" style="display: none;"></div>
                </div>
                
                <!-- Get Overdue Borrowings -->
                <div class="endpoint-card">
                    <div class="endpoint-header">
                        <div class="endpoint-title">Get Overdue Borrowings</div>
                        <span class="method-badge method-get">GET</span>
                    </div>
                    <div class="endpoint-url">/api/borrowings/overdue</div>
                    <button class="test-button" onclick="testEndpoint('overdue', '/api/borrowings/overdue')">Test Endpoint</button>
                    <div class="result-container" id="result-overdue" style="display: none;"></div>
                </div>
                
                <!-- Borrow Book -->
                <div class="endpoint-card">
                    <div class="endpoint-header">
                        <div class="endpoint-title">Borrow Book</div>
                        <span class="method-badge method-post">POST</span>
                    </div>
                    <div class="endpoint-url">/api/borrowings</div>
                    <button class="test-button" onclick="testBorrowBook()">Test Endpoint (Book 1)</button>
                    <div class="result-container" id="result-borrow" style="display: none;"></div>
                </div>
                
                <!-- Return Book -->
                <div class="endpoint-card">
                    <div class="endpoint-header">
                        <div class="endpoint-title">Return Book</div>
                        <span class="method-badge method-put">PUT</span>
                    </div>
                    <div class="endpoint-url">/api/borrowings/:id/return</div>
                    <button class="test-button" onclick="testReturnBook()">Test Endpoint (Loan 1)</button>
                    <div class="result-container" id="result-return" style="display: none;"></div>
                </div>
            </div>
        </section>
    </div>
    
    <script src="app.js"></script>
</body>
</html>
